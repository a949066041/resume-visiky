(()=>{"use strict";var e={5465:function(e,t,n){var r=n(6773),a=n(3429),i=n(8511),s=n(872),o=n(4652),l=n(433),c=n(393),u=n(8312),d=n(1871),f=n(2929),p=n(6781),h=n(6483),m=n.n(h),x=n(1699),g=n(7624);let j=function(){let e="a949066041";return(0,r.jsx)("footer",{className:" fixed bottom-0 left-0 right-0 pt-6",children:(0,r.jsxs)("div",{className:" flex justify-center text-sm items-center p-3 bg-primary text-text-white",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"",children:"Made with ❤️"}),(0,r.jsxs)("span",{className:"mx-1",children:["by",(0,r.jsx)("span",{className:" ml-1 cursor-pointer",onClick:()=>{"undefined"!=typeof window&&window.open(`https://github.com/${e}`)},children:e})]})]}),(0,r.jsxs)("a",{href:"https://github.com/a949066041/resume-visiky",className:"  text-text-white hover:text-white absolute right-2 text-xs flex items-center",target:"_blank",rel:"noreferrer noopener",children:[(0,r.jsx)("i",{className:"icon-[icon-park-outline--github] mr-1 text-sm "})," ","项目代码"]})]})})};var y=n(3576),b=n(7917),v=n(1258),k=n(5641),w=n(183);let P=[{key:"zh",label:"中"},{key:"en",label:"En"}];function O(e){let{changeLang:t}=e,{i18n:n}=(0,g.$G)();return(0,r.jsx)("span",{children:P.map(e=>(0,r.jsx)("span",{className:(0,k.Z)("cursor-pointer mx-1",n.language!==e.key&&"text-text-disabled"),onClick:()=>t(e.key),"data-lang":e.key,children:e.label},e.key))})}let $=function(){let{t:e,i18n:t}=(0,g.$G)(),n=(0,y.s)({from:"/"}),{template:a,user:i,mode:s}=(0,b.R)({from:"/"});function o(e){t.changeLanguage(e),n({search:{template:a,lang:e,user:i,mode:s}})}return(0,r.jsx)("div",{className:" mx-[7px] inline-block text-xs",children:"edit"===s?(0,r.jsx)(v.Z,{content:e("编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存"),placement:"left",children:(0,r.jsx)("span",{children:(0,r.jsx)(O,{changeLang:o})})}):(0,r.jsx)(O,{changeLang:o})})};function N(){let e=(0,y.s)({from:"/"}),{mode:t,user:n}=(0,b.R)({from:"/"});return{canPreview:(0,x.useMemo)(()=>!!n,[n]),isEdit:"edit"===t,changeMode:function(n){t!==n&&e({search:{mode:n}})}}}let Z=function(){let{changeMode:e,isEdit:t,canPreview:n}=N();return(0,r.jsxs)("div",{className:" mx-[7px] inline-block text-xs text-text-white",children:[!t&&(0,r.jsx)("span",{onClick:()=>e("edit"),className:" cursor-pointer",children:"编辑"}),t&&(n?(0,r.jsx)(v.Z,{content:"无用户信息，不允许预览",children:(0,r.jsx)("span",{className:" cursor-pointer",children:"预览"})}):(0,r.jsx)("span",{onClick:()=>e("read"),className:" cursor-pointer",children:"预览"}))]})},_=function(){return(0,r.jsx)("header",{className:" flex justify-end py-2 px-3 bg-primary text-text-white",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(Z,{}),(0,r.jsx)($,{})]})})},R=(0,c.KT)()({component:function(){let{i18n:e}=(0,g.$G)();return(0,x.useEffect)(()=>{m().locale("zh"===e.language?"zh-cn":"")},[e]),(0,r.jsxs)(d.ZP,{locale:"zh"===e.language?p.default:f.Z,theme:{token:{colorPrimary:"#273f75",borderRadius:2}},children:[(0,r.jsx)(_,{}),(0,r.jsx)(u.j3,{}),(0,r.jsx)(j,{})]})}});var T=n(6198);let C=(0,T.f2)("/$page")({component:function(){let{page:e}=C.useParams();return(0,r.jsxs)("div",{children:[e,"not found"]})}});var S=n(5427),E=n(1293),M=n(7471),z=n(7079),F=n(6953),q=n(8128);let D={async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let n=await fetch(Object.keys(t).length>0?`${e}?${Object.entries(t).map(e=>{let[t,n]=e;return`${t}=${n}`}).join(",")}`:e);return await n.json()},async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2];let n=await fetch(e,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(t)});return await n.json()},async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let n=await fetch(`${e}?${Object.entries(t).map(e=>{let[t,n]=e;return`${t}=${n}`}).join(",")}`,{method:"delete"});return await n.json()}};var G=n(4186);let I=(0,T.f2)("/")({component:function(){var e,t,n;let{i18n:a}=(0,g.$G)(),i=I.useNavigate(),{isEdit:s}=N(),{template:o,user:l}=I.useSearch();(0,x.useEffect)(()=>{i({search:{lang:a.language}})},[a.language,i]);let{isLoading:c,data:u}=(0,S.a)((e=a.language,t="master",n="visiky",(0,G.C)({enabled:!!n,queryKey:["resume",{lang:e,branch:t,user:n}],queryFn:()=>D.get(`https://raw.githubusercontent.com/${n}/${n}/${t}/resume.json`)})));return(0,r.jsx)("div",{className:" btn",children:(0,r.jsxs)(M.Z,{spinning:c,children:[s&&(0,r.jsx)(L,{}),(0,r.jsxs)("div",{className:"  mx-auto p-3 mb-10 flex w-full justify-center",children:[(0,r.jsxs)("div",{className:"min-h-[942px]  w-3xl shadow-lg mr-2 ",children:["123",JSON.stringify(u)]}),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(z.Z,{offsetTop:0,children:(0,r.jsxs)("div",{className:" space-y-2 w-[106px]",children:[(0,r.jsx)(F.ZP,{type:"primary",block:!0,children:"进行配置"}),(0,r.jsx)(F.ZP,{type:"primary",block:!0,children:"复制配置"}),(0,r.jsx)(F.ZP,{type:"primary",block:!0,children:"保存简历"}),(0,r.jsx)(F.ZP,{block:!0,children:"导入配置"}),(0,r.jsx)(F.ZP,{type:"primary",block:!0,children:"下载PDF"}),(0,r.jsx)(F.ZP,{type:"primary",block:!0,children:"分享"})]})})})]})]})})},validateSearch:q.ZP.object({user:q.ZP.string().optional(),template:q.ZP.string().default("template1"),lang:q.ZP.string().default("zh"),mode:q.ZP.enum(["edit","read"]).default("read")})});function L(){let{user:e="visiky"}=(0,b.R)({from:"/"});return(0,r.jsx)(E.Z,{type:"warning",banner:!0,closable:!1,showIcon:!1,message:(0,r.jsxs)("span",{children:["编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存",(0,r.jsxs)("span",{children:[(0,r.jsxs)("span",{style:{marginRight:"4px"},children:["\uD83D\uDC49"," ",!e&&"参考："]}),(0,r.jsx)("span",{style:{color:"var(--primary-color, #1890ff)",cursor:"pointer"},onClick:()=>{window.open(`https://github.com/${e}/${e}`)},children:`${e}'s resumeInfo`}),(0,r.jsx)("span",{children:`（https://github.com/${e}/${e||"visiky"}/blob/master/resume.json）`})]})]})})}let J=C.update({id:"/$page",path:"/$page",getParentRoute:()=>R}),W=I.update({id:"/",path:"/",getParentRoute:()=>R}),K=R._addFileChildren({IndexRoute:W,PageRoute:J})._addFileTypes();var U=n(4349),B=n(8443),H=n(8687),A=n(5836);(0,B.U)()((0,H.tJ)((0,A.n)(e=>({userToken:void 0,setToken:t=>e(e=>{e.userToken=t}),removeToken:()=>{e(e=>{e.userToken=void 0})}})),{name:"cache"})),(0,B.U)()((0,A.n)(e=>({count:0,increment:t=>e(e=>{e.count+=t}),decrement:t=>e(e=>{e.count-=t})})));let Q=new U.S({defaultOptions:{queries:{staleTime:0}}}),V=(0,o.p7)({basepath:"/resume-visiky",routeTree:K,context:{queryClient:Q}});function X(){return(0,r.jsx)(l.p,{router:V,context:{queryClient:Q}})}n(8386),w.ZP.use(g.Db).init({resources:{en:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"Welcome to React and react-i18next"}},zh:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"欢迎 React and react-i18next"}}},fallbackLng:"en",debug:!1}),"undefined"!=typeof window&&(0,s.Rp)({enabled:!1,log:!1}),!function(){let e=document.getElementById("root");e&&i.createRoot(e).render((0,r.jsx)(a.aH,{client:Q,children:(0,r.jsx)(X,{})}))}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(function(e){s[e]=function(){return r[e]}});return s.default=function(){return r},n.d(i,s),i}})(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];n.O=function(t,r,a,i){if(r){i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[r,a,i];return}for(var o=1/0,s=0;s<e.length;s++){for(var r=e[s][0],a=e[s][1],i=e[s][2],l=!0,c=0;c<r.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every(function(e){return n.O[e](r[c])})?r.splice(c--,1):(l=!1,i<o&&(o=i));if(l){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}})(),n.rv=function(){return"1.2.3"},(()=>{var e={980:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)var u=l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self.webpackChunkrsbuild_react_tempalte=self.webpackChunkrsbuild_react_tempalte||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.ruid="bundler=rspack@1.2.3";var r=n.O(void 0,["361","177"],function(){return n(5465)});r=n.O(r)})();