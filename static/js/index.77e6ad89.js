(()=>{"use strict";var e={7812:function(e,t,r){var n=r(2676),i=r(1712),l=r(8751),s=r(4351),a=r(3590),o=r(2442),c=r(6750),d=r(7219),u=r(6430),p=r(8402),m=r(7276),h=r(3152),f=r(6483),x=r.n(f),j=r(5271),y=r(1941),g=r(9840),b=r(2992),v=r(3158);let k={async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let r=await fetch(Object.keys(t).length>0?`${e}?${Object.entries(t).map(e=>{let[t,r]=e;return`${t}=${r}`}).join(",")}`:e);return await r.json()},async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2];let r=await fetch(e,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(t)});return await r.json()},async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let r=await fetch(`${e}?${Object.entries(t).map(e=>{let[t,r]=e;return`${t}=${r}`}).join(",")}`,{method:"delete"});return await r.json()}};var w=r(3785);let _=(0,j.createContext)(null);function $(e){let{children:t}=e,[r,i]=(0,g.I)({key:"use-global-data",defaultValue:void 0}),l=(0,b.V)({timeout:500}),{message:s}=u.Z.useApp(),{isLoading:a,data:o,refetch:c}=(0,v.a)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,w.C)({enabled:r,queryKey:["resume",{lang:e,branch:t,user:"visiky"}],queryFn:()=>{var e;return e="visiky",k.get(`https://raw.githubusercontent.com/${e}/${e}/${t}/resume.json`)}})}("zh","master",!s)),d=(0,j.useCallback)((e,t)=>{i(r=>({...r,[e]:t}))},[i]);(0,j.useEffect)(()=>{o&&i(o)},[o,i]);let p=(0,j.useCallback)(()=>{l.copy(JSON.stringify(r,null,2)),s.success("复制成功")},[s,l,r]),m=(0,j.useMemo)(()=>({isLoading:a,data:r,copyConfig:p,refetch:c,confirmMessage:d}),[a,r,p,c,d]);return(0,n.jsx)(_.Provider,{value:m,children:t})}function N(){let e=(0,j.useContext)(_);if(!e)throw Error("useGlobalData must be used within an DataContextProvider");return e}let P=function(){let e="a949066041";return(0,n.jsx)("footer",{className:" fixed bottom-0 left-0 right-0 pt-6",children:(0,n.jsxs)("div",{className:" flex justify-center text-sm items-center p-3 bg-primary text-text-white",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"",children:"Made with ❤️"}),(0,n.jsxs)("span",{className:"mx-1",children:["by",(0,n.jsx)("span",{className:" ml-1 cursor-pointer",onClick:()=>{"undefined"!=typeof window&&window.open(`https://github.com/${e}`)},children:e})]})]}),(0,n.jsxs)("a",{href:"https://github.com/a949066041/resume-visiky",className:"  text-text-white hover:text-white absolute right-2 text-xs flex items-center",target:"_blank",rel:"noreferrer noopener",children:[(0,n.jsx)("i",{className:"icon-[icon-park-outline--github] mr-1 text-sm "})," ","项目代码"]})]})})};var C=r(5149),Z=r(1768),O=r(5641),T=r(8128);let q=[{key:"zh",label:"中"},{key:"en",label:"En"}];T.z.object({url:T.z.string(),id:T.z.enum(["template1","template2","template3"]),description:T.z.string(),disabled:T.z.boolean().optional()});let L=[{url:"https://gw.alipayobjects.com/zos/antfincdn/GLDkiGBSPl/moban1.svg",id:"template1",description:"默认模板(适用于单页)"},{url:"https://gw.alipayobjects.com/zos/antfincdn/RGxVcJ2O3q/moban2.svg",id:"template2",description:"简易模板"},{url:"https://gw.alipayobjects.com/zos/antfincdn/Kn2jUKcBme/moban2.svg",id:"template3",description:"简易模板(适用于多页)",disabled:!1}];function S(e){return[{label:"头像设置",key:"avatar",collapsible:"icon",showArrow:!1},{label:"个人信息",key:"profile",collapsible:"icon",showArrow:!1},{label:"教育背景",key:"educationList"},{label:"自我介绍",key:"aboutme",collapsible:"icon",showArrow:!1},{label:"更多信息",key:"awardList"},{label:"个人作品",key:"workList"},{label:"专业技能",key:"skillList"},{label:"工作经历",key:"workExpList"},{label:"项目经历",key:"projectList"}].map(t=>({...t,className:" rounder-sm  mb-2 !border-none !rounded-2xl bg-black/5",onClick:t.showArrow||"boolean"!=typeof t.showArrow?null:()=>null==e?void 0:e(t.key)}))}var z=r(9483);function E(){let e=(0,C.s)({from:"/"}),t=(0,z.R)({from:"/"});return{params:t,changeSearch:function(r){e({search:{...t,...r}})}}}function A(){let{params:e,changeSearch:t}=E();return{canPreview:(0,j.useMemo)(()=>!!e.user,[e.user]),isEdit:"edit"===e.mode,changeMode:function(r){e.mode!==r&&t({mode:r})}}}let R=function(){let{i18n:e}=(0,y.$G)(),t=(0,C.s)({from:"/"}),{isEdit:r}=A();return(0,n.jsx)("div",{className:" mx-[7px] inline-block text-xs",children:(0,n.jsx)(Z.Z,{content:r?"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":null,placement:"left",children:(0,n.jsx)("span",{children:q.map(r=>(0,n.jsx)("span",{className:(0,O.Z)("cursor-pointer mx-1",e.language!==r.key&&"text-text-disabled"),onClick:()=>{var n;return n=r.key,void(e.changeLanguage(n),t({search:{lang:n}}))},"data-lang":r.key,children:r.label},r.key))})})})},F=function(){let{changeMode:e,isEdit:t,canPreview:r}=A();return(0,n.jsxs)("div",{className:" mx-[7px] inline-block text-xs text-text-white",children:[!t&&(0,n.jsx)("span",{onClick:()=>e("edit"),className:" cursor-pointer",children:"编辑"}),t&&(r?(0,n.jsx)(Z.Z,{content:"无用户信息，不允许预览",children:(0,n.jsx)("span",{className:" cursor-pointer",children:"预览"})}):(0,n.jsx)("span",{onClick:()=>e("read"),className:" cursor-pointer",children:"预览"}))]})},M=function(){return(0,n.jsx)("header",{className:" flex justify-end py-2 px-3 bg-primary text-text-white",children:(0,n.jsxs)("span",{children:[(0,n.jsx)(F,{}),(0,n.jsx)(R,{})]})})},D=(0,c.KT)()({component:function(){let{i18n:e}=(0,y.$G)();return(0,j.useEffect)(()=>{x().locale("zh"===e.language?"zh-cn":"")},[e]),(0,n.jsx)(u.Z,{children:(0,n.jsx)($,{children:(0,n.jsxs)(p.ZP,{locale:"zh"===e.language?h.default:m.Z,theme:{token:{colorPrimary:"#273f75",borderRadius:2}},children:[(0,n.jsx)(M,{}),(0,n.jsx)(d.j3,{}),(0,n.jsx)(P,{})]})})})}});var G=r(5287);let I=(0,G.f2)("/$page")({component:function(){let{page:e}=I.useParams();return(0,n.jsxs)("div",{children:[e,"not found"]})}});var K=r(4865),B=r(4207),V=r(5358),J=r(6678),W=r(6208),U=r(1406),H=r(9331),Q=r(286);let Y={avatar:{type:"object",properties:{hidden:{type:"boolean",title:"隐藏头像"},src:{type:"string",title:"头像地址"},shape:{type:"string",widget:"select",title:"头像形状",enum:["circle","square"],enumNames:["圆形","方形"],default:"circle"}}},profile:{type:"object",properties:{name:{required:!0,type:"string",title:"姓名"},mobile:{required:!0,type:"string",title:"手机号"},email:{required:!0,type:"string",title:"邮箱"},github:{type:"string",title:"Github"},zhihu:{type:"string",title:"知乎"},workExpYear:{type:"string",title:"工作经验"},workPlace:{type:"string",title:"期望工作地"},positionTitle:{type:"string",title:"职位"}}},educationList:{type:"object",properties:{edu_time:{required:!0,type:"string",title:"时间"},school:{required:!0,type:"string",title:"学校"},major:{type:"string",title:"专业"},academic_degree:{type:"string",title:"学历"}}},aboutme:{type:"object",properties:{aboutme_desc:{required:!0,type:"string",title:"自我介绍",widget:"TextArea"}}},awardList:{type:"object",properties:{award_time:{required:!0,type:"string",title:"获奖时间"},award_info:{required:!0,type:"string",title:"奖项名称",widget:"TextArea"}}},workExpList:{type:"object",properties:{work_time:{required:!0,type:"string",title:"起止时间"},company_name:{required:!0,type:"string",title:"公司名称"},department_name:{required:!0,type:"string",title:"部门名称"},work_desc:{required:!0,type:"string",title:"职位或描述",widget:"TextArea"}}},projectList:{type:"object",properties:{project_time:{required:!0,type:"string",title:"起止时间"},project_name:{type:"string",title:"项目名称"},project_role:{type:"string",title:"担任角色"},project_desc:{type:"string",title:"项目描述",widget:"TextArea"},project_content:{type:"string",title:"主要工作",widget:"TextArea"}}},workList:{type:"object",properties:{work_name:{type:"string",title:"作品名称"},work_desc:{type:"string",title:"作品描述",widget:"TextArea"},visit_link:{type:"string",title:"作品链接"}}},skillList:{type:"object",properties:{skill_name:{type:"string",title:"技能名称"},skill_level:{type:"number",title:"掌握程度"},skill_desc:{type:"string",title:"技能描述",widget:"TextArea"}}}};var X=r(623),ee=r(3073);let et=function(e){let{schema:t,schemaKey:r,listIndex:i=0,onClose:l}=e,{data:s,confirmMessage:a}=N(),o=(0,X.cI)(),c=(0,j.useMemo)(()=>{let e=null==s?void 0:s[r];return(0,ee.Z)(e)},[r,s]);return(0,j.useEffect)(()=>{let e=null==s?void 0:s[r];o.resetFields(),s&&e&&o.setValues(c?e[i]||{}:e)},[r,i,c]),(0,n.jsx)(X.ZP,{form:o,schema:t,footer:!0,onFinish:function(e){if(!c){a(r,e),l();return}let t=s[r].slice();t[i]=e,a(r,t),l()}})};var er=r(8782),en=r(9143),ei=r(8434),el=r(5899),es=r.n(el);function ea(e){let{id:t,children:r}=e,{attributes:i,listeners:l,setNodeRef:s,transform:a,transition:o}=(0,en.nB)({id:t}),c={transform:ei.ux.Transform.toString(a),transition:o};return(0,n.jsx)("li",{ref:s,style:c,children:(0,n.jsx)("div",{...i,...l,children:r})})}let eo=function(e){let{parentKey:t,onConfig:r}=e,{data:i,confirmMessage:l}=N(),s=(0,er.VT)(er.we,{activationConstraint:{distance:10}}),a=(0,er.Dy)(s),o=(0,j.useMemo)(()=>i?"educationList"===t?i[t].map(e=>({value:`${e.edu_time}-${e.school}-${e.major}-${e.academic_degree}`,id:e.school})):"awardList"===t?i[t].map(e=>({value:`${e.award_info}-${e.award_time}`,id:e.award_info})):"workExpList"===t?i[t].map(e=>({value:`${e.company_name}-${e.department_name}-${e.work_time}-${e.work_desc}`,id:e.company_name})):"projectList"===t?i[t].map(e=>({value:`${e.project_name}-${e.project_role}-${e.project_desc}-${e.project_time}-${e.project_desc}`,id:e.project_name})):[]:[],[i,t]),c=(0,j.useCallback)(e=>{let{active:r,over:n}=e;if(!n||!r.data.current||!n.data.current||r.id===(null==n?void 0:n.id))return;let s=r.data.current.sortable.index,a=n.data.current.sortable.index,o=i[t];l(t,es()(o,{$splice:[[s,1],[a,0,o[s]]]}))},[i,t,l]),d=(0,j.useCallback)(e=>{let r=i[t];l(t,es()(r,{$splice:[[e,1]]}))},[i,t,l]);return(0,n.jsx)(er.LB,{onDragEnd:c,sensors:a,children:(0,n.jsx)("div",{className:" space-y-2",children:(0,n.jsx)(en.Fo,{items:o,children:(0,n.jsxs)("ul",{children:[(o||[]).map((e,t)=>(0,n.jsx)(ea,{value:e.value,id:e.id,children:(0,n.jsxs)("div",{className:" flex hover:bg-amber-600  py-2 px-3 rounded-xl transition-all items-center",children:[(0,n.jsx)("div",{onClick:()=>r(t),className:" flex-1  truncate ",children:e.value},e.id),(0,n.jsx)("i",{className:"icon-[icon-park-outline--delete] cursor-pointer",onClick:()=>d(t)})]})},e.id)),(0,n.jsx)(J.ZP,{type:"dashed",onClick:()=>r(o.length),className:" mt-2",block:!0,children:"数据添加"})]})})})})},ec=S(),ed=function(){var e;let[t,r]=(0,j.useState)(null),[i,l]=(0,W.O)(),[s,a]=(0,j.useState)(null),[o,c]=(0,j.useState)(0),d=(0,j.useMemo)(()=>t?ec.find(e=>e.key===t):null,[t]);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(e),c(t),a(Y[e]),l(!0)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Q.Z,{accordion:!0,items:null===(e=S(u))||void 0===e?void 0:e.map(e=>({...e,children:(0,n.jsx)(eo,{onConfig:t=>u(e.key,t),parentKey:e.key},e.key)})),bordered:!1}),(0,n.jsx)(U.Z,{closable:!1,open:i,onClose:()=>l(!1),title:null==d?void 0:d.label,children:(0,n.jsx)(et,{schema:s,schemaKey:t,listIndex:o,onClose:()=>l(!1)})})]})};var eu=r(1870);function ep(e){let{item:t,isActive:r,changeSearch:i}=e;return(0,n.jsxs)("div",{className:(0,O.Z)(" flex flex-col items-center hover:cursor-pointer"),onClick:()=>!t.disabled&&i({template:t.id}),children:[(0,n.jsx)(eu.Q,{src:t.url,className:(0,O.Z)("w-[160px]  shadow mb-2  box-border border-white/20  border-solid border",r?" !border-black/20":"")}),(0,n.jsx)("span",{className:" text-black/65 text-sm",children:t.id}),(0,n.jsx)("span",{className:"text-xs text-text-desc",children:t.description})]},`${t.id}`)}let em=function(){let{params:e,changeSearch:t}=E();return(0,n.jsx)("div",{className:" grid grid-cols-2 gap-6 my-6",children:L.map(r=>(0,n.jsx)(ep,{isActive:r.id===e.template,changeSearch:t,item:r},r.id))})},eh=function(){let[e,t]=(0,W.O)(),[r,i]=(0,j.useState)("template");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(J.ZP,{type:"primary",block:!0,onClick:()=>t(!0),children:["进行配置",(0,n.jsx)(U.Z,{open:e,closable:!1,width:600,title:(0,n.jsx)(H.Z,{value:r,onChange:i,shape:"round",options:[{value:"template",label:"选择模板"},{value:"module",label:"配置简历"}]}),onClose:()=>t(!1),children:"module"===r?(0,n.jsx)(ed,{}):(0,n.jsx)(em,{})})]})})};var ef=r(3939);let ex=function(e){let{src:t,shape:r="circle",hidden:i}=e;return i?null:(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)(ef.Z,{className:" !w-full !h-full",shape:r,src:t}):(0,n.jsx)("span",{className:"avatar-upload-tip",children:"头像地址为空"})})},ej={template1:function(){let{data:e}=N();return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:" w-20 h-20",children:(0,n.jsx)(ex,{...null==e?void 0:e.avatar})})})},template2:function(){return(0,n.jsx)("div",{children:"Template2"})},template3:function(){return(0,n.jsx)("div",{children:"Template3"})}},ey=(0,G.f2)("/")({component:function(){let{changeSearch:e,params:t}=E(),{i18n:r}=(0,y.$G)(),{isLoading:i,copyConfig:l}=N(),{isEdit:s}=A(),a=(0,j.useMemo)(()=>ej[t.template],[t.template]);return(0,j.useEffect)(()=>{e({lang:r.language})},[e,r.language]),(0,n.jsx)("div",{className:" btn",children:(0,n.jsxs)(B.Z,{spinning:i,children:[s&&(0,n.jsx)(eg,{}),(0,n.jsxs)("div",{className:"  mx-auto p-3 mb-10 flex w-full justify-center",children:[(0,n.jsx)("div",{className:"min-h-[942px]  w-3xl shadow-lg mr-2 ",children:(0,n.jsx)(a,{})}),s&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(V.Z,{offsetTop:0,children:(0,n.jsxs)("div",{className:" space-y-2 w-[106px]",children:[(0,n.jsx)(eh,{}),(0,n.jsx)(J.ZP,{type:"primary",block:!0,onClick:()=>l(),children:"复制配置"}),(0,n.jsx)(J.ZP,{type:"primary",block:!0,children:"保存简历"}),(0,n.jsx)(J.ZP,{block:!0,children:"导入配置"}),(0,n.jsx)(J.ZP,{type:"primary",block:!0,children:"下载PDF"}),(0,n.jsx)(J.ZP,{type:"primary",block:!0,children:"分享"})]})})})]})]})})},validateSearch:T.ZP.object({user:T.ZP.string().optional(),template:T.ZP.string().default("template1"),lang:T.ZP.string().default("zh"),mode:T.ZP.enum(["edit","read"]).default("read")})});function eg(){let{params:e}=E(),{user:t="visiky"}=e;return(0,n.jsx)(K.Z,{type:"warning",banner:!0,closable:!1,showIcon:!1,message:(0,n.jsxs)("span",{children:["编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存",(0,n.jsxs)("span",{children:[(0,n.jsxs)("span",{style:{marginRight:"4px"},children:["\uD83D\uDC49"," ",!t&&"参考："]}),(0,n.jsx)("span",{style:{color:"var(--primary-color, #1890ff)",cursor:"pointer"},onClick:()=>{window.open(`https://github.com/${t}/${t}`)},children:`${t}'s resumeInfo`}),(0,n.jsx)("span",{children:`（https://github.com/${t}/${t||"visiky"}/blob/master/resume.json）`})]})]})})}let eb=I.update({id:"/$page",path:"/$page",getParentRoute:()=>D}),ev=ey.update({id:"/",path:"/",getParentRoute:()=>D}),ek=D._addFileChildren({IndexRoute:ev,PageRoute:eb})._addFileTypes();var ew=r(4349),e_=r(320),e$=r(2168),eN=r(4183);(0,e_.U)()((0,e$.tJ)((0,eN.n)(e=>({userToken:void 0,setToken:t=>e(e=>{e.userToken=t}),removeToken:()=>{e(e=>{e.userToken=void 0})}})),{name:"cache"}));let eP=new ew.S({defaultOptions:{queries:{staleTime:0}}}),eC=(0,a.p7)({basepath:"/resume-visiky",routeTree:ek,context:{queryClient:eP}});function eZ(){return(0,n.jsx)(o.p,{router:eC,context:{queryClient:eP}})}var eO=r(183);eO.ZP.use(y.Db).init({resources:{en:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"Welcome to React and react-i18next"}},zh:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"欢迎 React and react-i18next"}}},fallbackLng:"en",debug:!1}),"undefined"!=typeof window&&(0,s.Rp)({enabled:!1,log:!1}),!function(){let e=document.getElementById("root");e&&l.createRoot(e).render((0,n.jsx)(i.aH,{client:eP,children:(0,n.jsx)(eZ,{})}))}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,r),l.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(n,i){if(1&i&&(n=this(n)),8&i||"object"==typeof n&&n&&(4&i&&n.__esModule||16&i&&"function"==typeof n.then))return n;var l=Object.create(null);r.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(function(e){s[e]=function(){return n[e]}});return s.default=function(){return n},r.d(l,s),l}})(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];r.O=function(t,n,i,l){if(n){l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[n,i,l];return}for(var a=1/0,s=0;s<e.length;s++){for(var n=e[s][0],i=e[s][1],l=e[s][2],o=!0,c=0;c<n.length;c++)(!1&l||a>=l)&&Object.keys(r.O).every(function(e){return r.O[e](n[c])})?n.splice(c--,1):(o=!1,l<a&&(a=l));if(o){e.splice(s--,1);var d=i();void 0!==d&&(t=d)}}return t}})(),r.rv=function(){return"1.2.3"},(()=>{var e={980:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,l,s=n[0],a=n[1],o=n[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(o)var d=o(r)}for(t&&t(n);c<s.length;c++)l=s[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(d)},n=self.webpackChunkrsbuild_react_tempalte=self.webpackChunkrsbuild_react_tempalte||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.2.3";var n=r.O(void 0,["361","872"],function(){return r(7812)});n=r.O(n)})();