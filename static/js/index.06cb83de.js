(()=>{"use strict";var e={38936:function(e,t,n){var r=n(96773),i=n(3429),o=n(58511),l=n(10872),a=n(14652),s=n(80433),c=n(70393),u=n(88312),d=n(94924),p=n(70227),m=n(86347),h=n(16483),f=n.n(h),b=n(41699),x=n(27624),y=n(75427),g=n(74631);let j={async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let n=await fetch(Object.keys(t).length>0?`${e}?${Object.entries(t).map(e=>{let[t,n]=e;return`${t}=${n}`}).join(",")}`:e);return await n.json()},async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2];let n=await fetch(e,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(t)});return await n.json()},async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let n=await fetch(`${e}?${Object.entries(t).map(e=>{let[t,n]=e;return`${t}=${n}`}).join(",")}`,{method:"delete"});return await n.json()}};var v=n(94186);let k=(0,b.createContext)(null);function w(e){let{children:t}=e,[n,i]=(0,g.Z)("use-global-data",{defaultValue:void 0}),{isLoading:o,data:l,refetch:a}=(0,y.a)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,v.C)({enabled:n,queryKey:["resume",{lang:e,branch:t,user:"visiky"}],queryFn:()=>{var e;return e="visiky",j.get(`https://raw.githubusercontent.com/${e}/${e}/${t}/resume.json`)}})}("zh","master",!1)),s=(0,b.useCallback)((e,t)=>{i(n=>({...n,[e]:t}))},[i]);(0,b.useEffect)(()=>{l&&i(l)},[l,i]);let c=(0,b.useMemo)(()=>({isLoading:o,data:n,refetch:a,confirmMessage:s}),[s,o,n,a]);return(0,r.jsx)(k,{value:c,children:t})}function P(){let e=(0,b.useContext)(k);if(!e)throw Error("useGlobalData must be used within an DataContextProvider");return e}let Z=function(){let e="a949066041";return(0,r.jsx)("footer",{className:" fixed bottom-0 left-0 right-0 pt-6",children:(0,r.jsxs)("div",{className:" flex justify-center text-sm items-center p-3 bg-primary text-text-white",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"",children:"Made with ❤️"}),(0,r.jsxs)("span",{className:"mx-1",children:["by",(0,r.jsx)("span",{className:" ml-1 cursor-pointer",onClick:()=>{"undefined"!=typeof window&&window.open(`https://github.com/${e}`)},children:e})]})]}),(0,r.jsxs)("a",{href:"https://github.com/a949066041/resume-visiky",className:"  text-text-white hover:text-white absolute right-2 text-xs flex items-center",target:"_blank",rel:"noreferrer noopener",children:[(0,r.jsx)("i",{className:"icon-[icon-park-outline--github] mr-1 text-sm "})," ","项目代码"]})]})})};var O=n(93576),N=n(45183),$=n(95641),C=n(98128);let _=[{key:"zh",label:"中"},{key:"en",label:"En"}];C.z.object({url:C.z.string(),id:C.z.enum(["template1","template2","template3"]),description:C.z.string(),disabled:C.z.boolean().optional()});let z=[{url:"https://gw.alipayobjects.com/zos/antfincdn/GLDkiGBSPl/moban1.svg",id:"template1",description:"默认模板(适用于单页)"},{url:"https://gw.alipayobjects.com/zos/antfincdn/RGxVcJ2O3q/moban2.svg",id:"template2",description:"简易模板"},{url:"https://gw.alipayobjects.com/zos/antfincdn/Kn2jUKcBme/moban2.svg",id:"template3",description:"简易模板(适用于多页)",disabled:!1}];function S(e){return[{label:"头像设置",key:"avatar",collapsible:"icon",showArrow:!1},{label:"个人信息",key:"profile",collapsible:"icon",showArrow:!1},{label:"教育背景",key:"educationList"},{label:"自我介绍",key:"aboutme",collapsible:"icon",showArrow:!1},{label:"更多信息",key:"awardList"},{label:"个人作品",key:"workList"},{label:"专业技能",key:"skillList"},{label:"工作经历",key:"workExpList"},{label:"项目经历",key:"projectList"}].map(t=>({...t,className:" rounder-sm  mb-2 !border-none !rounded-2xl bg-black/5",onClick:t.showArrow||"boolean"!=typeof t.showArrow?null:()=>null==e?void 0:e(t.key)}))}var T=n(7917);function R(){let e=(0,O.s)({from:"/"}),t=(0,T.R)({from:"/"});return{params:t,changeSearch:function(n){e({search:{...t,...n}})}}}function E(){let{params:e,changeSearch:t}=R();return{canPreview:(0,b.useMemo)(()=>!!e.user,[e.user]),isEdit:"edit"===e.mode,changeMode:function(n){e.mode!==n&&t({mode:n})}}}let D=function(){let{i18n:e}=(0,x.$G)(),t=(0,O.s)({from:"/"}),{isEdit:n}=E();return(0,r.jsx)("div",{className:" mx-[7px] inline-block text-xs",children:(0,r.jsx)(N.Z,{content:n?"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":null,placement:"left",children:(0,r.jsx)("span",{children:_.map(n=>(0,r.jsx)("span",{className:(0,$.Z)("cursor-pointer mx-1",e.language!==n.key&&"text-text-disabled"),onClick:()=>{var r;return r=n.key,void(e.changeLanguage(r),t({search:{lang:r}}))},"data-lang":n.key,children:n.label},n.key))})})})},L=function(){let{changeMode:e,isEdit:t,canPreview:n}=E();return(0,r.jsxs)("div",{className:" mx-[7px] inline-block text-xs text-text-white",children:[!t&&(0,r.jsx)("span",{onClick:()=>e("edit"),className:" cursor-pointer",children:"编辑"}),t&&(n?(0,r.jsx)(N.Z,{content:"无用户信息，不允许预览",children:(0,r.jsx)("span",{className:" cursor-pointer",children:"预览"})}):(0,r.jsx)("span",{onClick:()=>e("read"),className:" cursor-pointer",children:"预览"}))]})},M=function(){return(0,r.jsx)("header",{className:" flex justify-end py-2 px-3 bg-primary text-text-white",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(L,{}),(0,r.jsx)(D,{})]})})},q=(0,c.KT)()({component:function(){let{i18n:e}=(0,x.$G)();return(0,b.useEffect)(()=>{f().locale("zh"===e.language?"zh-cn":"")},[e]),(0,r.jsx)(w,{children:(0,r.jsxs)(d.ZP,{locale:"zh"===e.language?m.default:p.Z,theme:{token:{colorPrimary:"#273f75",borderRadius:2}},children:[(0,r.jsx)(M,{}),(0,r.jsx)(u.j3,{}),(0,r.jsx)(Z,{})]})})}});var G=n(46198);let F=(0,G.f2)("/$page")({component:function(){let{page:e}=F.useParams();return(0,r.jsxs)("div",{children:[e,"not found"]})}});var A=n(21451),K=n(22579),B=n(88814),I=n(21245),J=n(61910),W=n(69052),Q=n(26010),U=n(67154),V=n(9702),H=n(34679);let Y={avatar:{form:{type:"object",properties:{hidden:{type:"boolean",title:"隐藏头像"},src:{type:"string",title:"头像地址"},shape:{type:"string",title:"头像形状",enum:["circle","square"]}}}},profile:{form:{type:"object",required:["name","mobile","email"],properties:{name:{type:"string",title:"姓名"},mobile:{type:"string",title:"手机号"},email:{type:"string",title:"邮箱"},github:{type:"string",title:"Github"},zhihu:{type:"string",title:"知乎"},workExpYear:{type:"string",title:"工作经验"},workPlace:{type:"string",title:"期望工作地"},positionTitle:{type:"string",title:"职位"}}}},aboutme:{form:{type:"object",required:["aboutme_desc"],properties:{aboutme_desc:{type:"string",title:"自我介绍"}}},ui:{aboutme_desc:{"ui:widget":"textarea"}}}};var X=n(98725),ee=n(23585),et=n(89555);let en=(0,ee.Zz)(X.Q2),er=function(e){let{schema:t,schemaKey:n}=e,{data:i,confirmMessage:o}=P(),l=(0,b.useMemo)(()=>i?i[n]:{},[i,n]);return(0,r.jsx)(en,{validator:et.ZP,formData:l,onSubmit:e=>{let{formData:t}=e;return o(n,t)},uiSchema:{...t.ui,"ui:options":{submitButtonOptions:{props:{type:"primary"},submitText:"提交"}}},showErrorList:!1,schema:t.form})},ei=S(),eo=function(){let[e,t]=(0,b.useState)(null),[n,{set:i}]=(0,J.Z)(),[o,l]=(0,b.useState)({form:{},ui:{}}),a=(0,b.useMemo)(()=>e?ei.find(t=>t.key===e):null,[e]);return(0,r.jsxs)(V.W,{backend:H.PD,children:[(0,r.jsx)(U.Z,{accordion:!0,items:S(function(e){t(e),i(!0),l(Y[e])}),bordered:!1}),(0,r.jsx)(W.Z,{closable:!1,open:n,onClose:()=>i(!1),title:null==a?void 0:a.label,children:(0,r.jsx)(er,{schema:o,schemaKey:e})})]})};var el=n(18880);function ea(){let{params:e,changeSearch:t}=R();return(0,r.jsx)("div",{className:" grid grid-cols-2 gap-6 my-6",children:z.map(n=>(0,r.jsxs)("div",{className:(0,$.Z)(" flex flex-col items-center hover:cursor-pointer"),onClick:()=>!n.disabled&&t({template:n.id}),children:[(0,r.jsx)(el.Q,{src:n.url,className:(0,$.Z)("w-[160px]  shadow mb-2  box-border border-white/20  border-solid border",n.id===e.template?" !border-black/20":"")}),(0,r.jsx)("span",{className:" text-black/65 text-sm",children:n.id}),(0,r.jsx)("span",{className:"text-xs text-text-desc",children:n.description})]},`${n.id}`))})}let es=function(){let[e,{set:t}]=(0,J.Z)(),[n,i]=(0,b.useState)("template");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(I.ZP,{type:"primary",block:!0,onClick:()=>t(!0),children:["进行配置",(0,r.jsx)(W.Z,{open:e,closable:!1,width:600,title:(0,r.jsx)(Q.Z,{value:n,onChange:i,shape:"round",options:[{value:"template",label:"选择模板"},{value:"module",label:"配置简历"}]}),onClose:()=>t(!1),children:"module"===n?(0,r.jsx)(eo,{}):(0,r.jsx)(ea,{})})]})})},ec=(0,G.f2)("/")({component:function(){let{i18n:e}=(0,x.$G)(),t=ec.useNavigate(),{isLoading:n,data:i}=P(),{isEdit:o}=E();return(0,b.useEffect)(()=>{t({search:{lang:e.language}})},[e.language,t]),(0,r.jsx)("div",{className:" btn",children:(0,r.jsxs)(K.Z,{spinning:n,children:[o&&(0,r.jsx)(eu,{}),(0,r.jsxs)("div",{className:"  mx-auto p-3 mb-10 flex w-full justify-center",children:[(0,r.jsx)("div",{className:"min-h-[942px]  w-3xl shadow-lg mr-2 ",children:JSON.stringify(i)}),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(B.Z,{offsetTop:0,children:(0,r.jsxs)("div",{className:" space-y-2 w-[106px]",children:[(0,r.jsx)(es,{}),(0,r.jsx)(I.ZP,{type:"primary",block:!0,children:"复制配置"}),(0,r.jsx)(I.ZP,{type:"primary",block:!0,children:"保存简历"}),(0,r.jsx)(I.ZP,{block:!0,children:"导入配置"}),(0,r.jsx)(I.ZP,{type:"primary",block:!0,children:"下载PDF"}),(0,r.jsx)(I.ZP,{type:"primary",block:!0,children:"分享"})]})})})]})]})})},validateSearch:C.ZP.object({user:C.ZP.string().optional(),template:C.ZP.string().default("template1"),lang:C.ZP.string().default("zh"),mode:C.ZP.enum(["edit","read"]).default("read")})});function eu(){let{params:e}=R(),{user:t="visiky"}=e;return(0,r.jsx)(A.Z,{type:"warning",banner:!0,closable:!1,showIcon:!1,message:(0,r.jsxs)("span",{children:["编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存",(0,r.jsxs)("span",{children:[(0,r.jsxs)("span",{style:{marginRight:"4px"},children:["\uD83D\uDC49"," ",!t&&"参考："]}),(0,r.jsx)("span",{style:{color:"var(--primary-color, #1890ff)",cursor:"pointer"},onClick:()=>{window.open(`https://github.com/${t}/${t}`)},children:`${t}'s resumeInfo`}),(0,r.jsx)("span",{children:`（https://github.com/${t}/${t||"visiky"}/blob/master/resume.json）`})]})]})})}let ed=F.update({id:"/$page",path:"/$page",getParentRoute:()=>q}),ep=ec.update({id:"/",path:"/",getParentRoute:()=>q}),em=q._addFileChildren({IndexRoute:ep,PageRoute:ed})._addFileTypes();var eh=n(4349),ef=n(18443),eb=n(18687),ex=n(55836);(0,ef.U)()((0,eb.tJ)((0,ex.n)(e=>({userToken:void 0,setToken:t=>e(e=>{e.userToken=t}),removeToken:()=>{e(e=>{e.userToken=void 0})}})),{name:"cache"}));let ey=new eh.S({defaultOptions:{queries:{staleTime:0}}}),eg=(0,a.p7)({basepath:"/resume-visiky",routeTree:em,context:{queryClient:ey}});function ej(){return(0,r.jsx)(s.p,{router:eg,context:{queryClient:ey}})}var ev=n(30183);n(74932),ev.ZP.use(x.Db).init({resources:{en:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"Welcome to React and react-i18next"}},zh:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"欢迎 React and react-i18next"}}},fallbackLng:"en",debug:!1}),"undefined"!=typeof window&&(0,l.Rp)({enabled:!1,log:!1}),!function(){let e=document.getElementById("root");e&&o.createRoot(e).render((0,r.jsx)(i.aH,{client:ey,children:(0,r.jsx)(ej,{})}))}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i||"object"==typeof r&&r&&(4&i&&r.__esModule||16&i&&"function"==typeof r.then))return r;var o=Object.create(null);n.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(function(e){l[e]=function(){return r[e]}});return l.default=function(){return r},n.d(o,l),o}})(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},(()=>{var e=[];n.O=function(t,r,i,o){if(r){o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o];return}for(var a=1/0,l=0;l<e.length;l++){for(var r=e[l][0],i=e[l][1],o=e[l][2],s=!0,c=0;c<r.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every(function(e){return n.O[e](r[c])})?r.splice(c--,1):(s=!1,o<a&&(a=o));if(s){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}})(),n.rv=function(){return"1.2.3"},(()=>{var e={980:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,l=r[0],a=r[1],s=r[2],c=0;if(l.some(function(t){return 0!==e[t]})){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(s)var u=s(n)}for(t&&t(r);c<l.length;c++)o=l[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunkrsbuild_react_tempalte=self.webpackChunkrsbuild_react_tempalte||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.ruid="bundler=rspack@1.2.3";var r=n.O(void 0,["361","127"],function(){return n(38936)});r=n.O(r)})();