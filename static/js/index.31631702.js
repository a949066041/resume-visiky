(()=>{"use strict";var e={85943:function(e,t,n){var l=n(52676),i=n(68997),r=n(38751),s=n(20926),o=n(28666),a=n(2913),c=n(76588),d=n(55774),u=n(86430),p=n(48402),m=n(77276),x=n(23152),h=n(16483),j=n.n(h),f=n(75271),v=n(87952),y=n(81149),b=n(41206),g=n(86133);let k={async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let n=await fetch(Object.keys(t).length>0?`${e}?${Object.entries(t).map(e=>{let[t,n]=e;return`${t}=${n}`}).join(",")}`:e);return await n.json()},async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2];let n=await fetch(e,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(t)});return await n.json()},async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&arguments[2],"function"==typeof t.safeParse&&(t={});let n=await fetch(`${e}?${Object.entries(t).map(e=>{let[t,n]=e;return`${t}=${n}`}).join(",")}`,{method:"delete"});return await n.json()}};async function w(e){let t=new Headers;return t.append("Authorization",`Bearer ${(void 0).PUBLIC_AI_API_KEY}`),t.append("Content-Type","application/json"),t.append("X-DashScope-SSE","enable"),(await fetch(`https://dashscope.aliyuncs.com/api/v1/apps/${(void 0).PUBLIC_AI_APP_ID}/completion`,{method:"POST",headers:t,body:JSON.stringify({input:{prompt:e},stream:!0,parameters:{incremental_output:!0},debug:{}}),redirect:"follow"})).body}var _=n(31863);let N=(0,f.createContext)(null);function Z(e){let{children:t}=e,[n,i]=(0,y.I)({key:"use-global-data"}),r=(0,b.V)({timeout:500}),{message:s}=u.Z.useApp(),{isLoading:o,data:a,refetch:c}=(0,g.a)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,_.C)({enabled:n,queryKey:["resume",{lang:e,branch:t,user:"visiky"}],queryFn:()=>{var e;return e="visiky",k.get(`https://raw.githubusercontent.com/${e}/${e}/${t}/resume.json`)}})}("zh","master",!localStorage.getItem("use-global-data"))),d=(0,f.useCallback)((e,t)=>{i(n=>({...n,[e]:t}))},[i]);(0,f.useEffect)(()=>{a&&i(a)},[a,i]);let p=(0,f.useCallback)(()=>{r.copy(JSON.stringify(n,null,2)),s.success("复制成功")},[s,r,n]),m=(0,f.useMemo)(()=>({isLoading:o,data:n,copyConfig:p,refreshData:c,confirmMessage:d}),[o,n,p,c,d]);return(0,l.jsx)(N.Provider,{value:m,children:t})}function C(){let e=(0,f.useContext)(N);if(!e)throw Error("useGlobalData must be used within an DataContextProvider");return e}var P=n(29213);let $=(0,f.createContext)(null);function T(e){let{children:t}=e,[n,i]=(0,f.useState)(4),[r,s]=(0,f.useState)("#273f75"),o=(0,f.useMemo)(()=>({size:n,setSize:i,color:r,setColor:s}),[n,i,r,s]);return(0,l.jsx)($.Provider,{value:o,children:"function"==typeof t?t(o):t})}function L(e){let{children:t,className:n,small:i=!1,...r}=e,{size:s}=O(),o=(0,f.useMemo)(()=>s*(i?1:2),[s,i]);return(0,l.jsx)(P.Z,{size:o,className:n,...r,children:t})}function O(){let e=(0,f.useContext)($);if(!e)throw Error("useSize must be used within an DataContextProvider");return e}var S=n(31570);let A=function(){let{token:e}=S.Z.useToken(),t="a949066041";return(0,l.jsx)("footer",{className:" fixed bottom-0 left-0 right-0 pt-6",children:(0,l.jsxs)("div",{className:" flex justify-center text-sm items-center p-3  text-white",style:{backgroundColor:e.colorPrimary},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"",children:"Made with ❤️"}),(0,l.jsxs)("span",{className:"mx-1",children:["by",(0,l.jsx)("span",{className:" ml-1 cursor-pointer",onClick:()=>{"undefined"!=typeof window&&window.open(`https://github.com/${t}`)},children:t})]})]}),(0,l.jsxs)("a",{href:"https://github.com/a949066041/resume-visiky",className:"  text-white/80 hover:text-white absolute right-2 text-xs flex items-center",target:"_blank",rel:"noreferrer noopener",children:[(0,l.jsx)("i",{className:"icon-[icon-park-outline--github] mr-1 text-sm "})," ","项目代码"]})]})})};var E=n(9170),R=n(20911),q=n(41406),z=n(76026),M=n(15177),D=n(83712),I=n(51071),F=n(11455),B=n(51900);function G(){let e=(0,F.s)({from:"/"}),t=(0,B.R)({from:"/"});return{params:t,changeSearch:function(n){e({search:{...t,...n}})}}}function K(){let{params:e,changeSearch:t}=G();return{canPreview:(0,f.useMemo)(()=>!!e.user,[e.user]),isEdit:"edit"===e.mode,changeMode:function(n){e.mode!==n&&t({mode:n})}}}let J=function(){let[e,t]=(0,E.O)(),{size:n,setSize:i,color:r,setColor:s}=O();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R.Z,{icon:(0,l.jsx)("i",{className:"icon-[icon-park-outline--setting-two]"}),onClick:()=>t(!0)}),(0,l.jsx)(q.Z,{title:"配置",onClose:()=>t(!1),open:e,children:(0,l.jsxs)(z.Z,{layout:"vertical",children:[(0,l.jsx)(z.Z.Item,{label:"样式间距",children:(0,l.jsx)(M.Z,{value:n,onChange:i,min:4,max:6})}),(0,l.jsx)(z.Z.Item,{label:"主题颜色",children:(0,l.jsx)(D.Z,{value:r,onChange:(e,t)=>s(t),trigger:"click"})}),(0,l.jsx)(z.Z.Item,{label:"Ai应用Id",children:(0,l.jsx)(I.Z,{})}),(0,l.jsx)(z.Z.Item,{label:"Ai应用key",children:(0,l.jsx)(I.Z,{})})]})})]})};var V=n(71768),U=n(95641),W=n(98128);let Y=[{key:"zh",label:"中"},{key:"en",label:"En"}];W.z.object({url:W.z.string(),id:W.z.enum(["template1","template2","template3"]),description:W.z.string(),disabled:W.z.boolean().optional()});let H=[{url:"https://gw.alipayobjects.com/zos/antfincdn/GLDkiGBSPl/moban1.svg",id:"template1",description:"默认模板(适用于单页)"},{url:"https://gw.alipayobjects.com/zos/antfincdn/RGxVcJ2O3q/moban2.svg",id:"template2",description:"简易模板"},{url:"https://gw.alipayobjects.com/zos/antfincdn/Kn2jUKcBme/moban2.svg",id:"template3",description:"简易模板(适用于多页)",disabled:!1}];function Q(e){return[{label:"头像设置",key:"avatar",collapsible:"icon",showArrow:!1},{label:"个人信息",key:"profile",collapsible:"icon",showArrow:!1},{label:"教育背景",key:"educationList"},{label:"自我介绍",key:"aboutme",collapsible:"icon",showArrow:!1},{label:"更多信息",key:"awardList"},{label:"个人作品",key:"workList"},{label:"专业技能",key:"skillList"},{label:"工作经历",key:"workExpList"},{label:"项目经历",key:"projectList"}].map(t=>({...t,className:" rounder-sm  mb-2 !border-none !rounded-2xl bg-black/5",onClick:t.showArrow||"boolean"!=typeof t.showArrow?null:()=>null==e?void 0:e(t.key)}))}let X=[["mobile","icon-[icon-park-outline--phone-telephone]"],["email","icon-[icon-park-outline--mail]"],["github","icon-[icon-park-outline--github]"],["workExpYear","icon-[iwwa--year]","工作经验："],["workPlace","icon-[icon-park-outline--local-two]"],["positionTitle","icon-[icon-park-outline--like]"]],ee=function(){let{i18n:e}=(0,v.$G)(),t=(0,F.s)({from:"/"}),{isEdit:n}=K();return(0,l.jsx)("div",{className:" mx-2 inline-block text-xs",children:(0,l.jsx)(V.Z,{content:n?"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":null,placement:"left",children:(0,l.jsx)("span",{children:Y.map(n=>(0,l.jsx)("span",{className:(0,U.Z)("cursor-pointer mx-1",e.language!==n.key&&" text-white/85"),onClick:()=>{var l;return l=n.key,void(e.changeLanguage(l),t({search:{lang:l}}))},"data-lang":n.key,children:n.label},n.key))})})})},et=function(){let{changeMode:e,isEdit:t,canPreview:n}=K();return(0,l.jsxs)("div",{className:" mx-2 inline-block text-xs text-white",children:[!t&&(0,l.jsx)("span",{onClick:()=>e("edit"),className:" cursor-pointer",children:"编辑"}),t&&(n?(0,l.jsx)(V.Z,{content:"无用户信息，不允许预览",children:(0,l.jsx)("span",{className:" cursor-pointer",children:"预览"})}):(0,l.jsx)("span",{onClick:()=>e("read"),className:" cursor-pointer",children:"预览"}))]})},en=function(){let{token:e}=S.Z.useToken();return(0,l.jsx)("header",{className:" flex justify-end py-2 px-3  text-white",style:{backgroundColor:e.colorPrimary},children:(0,l.jsxs)("span",{children:[(0,l.jsx)(et,{}),(0,l.jsx)(ee,{})]})})},el=(0,c.KT)()({component:function(){let{i18n:e}=(0,v.$G)();return(0,f.useEffect)(()=>{j().locale("zh"===e.language?"zh-cn":"")},[e]),(0,l.jsx)(u.Z,{children:(0,l.jsx)(T,{children:t=>{let{color:n}=t;return(0,l.jsx)(Z,{children:(0,l.jsxs)(p.ZP,{locale:"zh"===e.language?x.default:m.Z,theme:{token:{colorPrimary:n,borderRadius:2},components:{Rate:{starSize:14}}},children:[(0,l.jsx)(en,{}),(0,l.jsx)(d.j3,{}),(0,l.jsx)(A,{}),(0,l.jsx)(J,{})]})})}})})}});var ei=n(95269);let er=(0,ei.f2)("/$page")({component:function(){let{page:e}=er.useParams();return(0,l.jsxs)("div",{children:[e,"not found"]})}});var es=n(4207),eo=n(33844),ea=n(15571),ec=n(90477),ed=n(59331),eu=n(70286);let ep={avatar:{type:"object",properties:{hidden:{type:"boolean",title:"隐藏头像"},src:{type:"string",title:"头像地址"},shape:{type:"string",widget:"select",title:"头像形状",enum:["circle","square"],enumNames:["圆形","方形"],default:"circle"}}},profile:{type:"object",properties:{name:{required:!0,type:"string",title:"姓名"},mobile:{required:!0,type:"string",title:"手机号"},email:{required:!0,type:"string",title:"邮箱"},github:{type:"string",title:"Github"},zhihu:{type:"string",title:"知乎"},workExpYear:{type:"string",title:"工作经验"},workPlace:{type:"string",title:"期望工作地"},positionTitle:{type:"string",title:"职位"}}},educationList:{type:"object",properties:{edu_time:{required:!0,type:"range",format:"date",title:"时间"},school:{required:!0,type:"string",title:"学校"},major:{type:"string",title:"专业"},academic_degree:{type:"string",title:"学历"}}},aboutme:{type:"object",properties:{aboutme_desc:{required:!0,type:"string",title:"自我介绍",widget:"TextArea"}}},awardList:{type:"object",properties:{award_time:{required:!0,type:"string",title:"获奖时间"},award_info:{required:!0,type:"string",title:"奖项名称",widget:"TextArea"}}},workExpList:{type:"object",properties:{work_time:{type:"range",format:"month",title:"起止时间",widget:"CustomDateRange"},company_name:{required:!0,type:"string",title:"公司名称"},department_name:{type:"string",title:"部门名称"},work_desc:{required:!0,type:"string",title:"职位或描述",widget:"TextArea"}}},projectList:{type:"object",properties:{project_time:{required:!0,type:"string",title:"起止时间"},project_name:{type:"string",title:"项目名称"},project_role:{type:"string",title:"担任角色"},project_desc:{type:"string",title:"项目描述",widget:"TextArea"},project_content:{type:"string",title:"主要工作",widget:"TextArea"}}},workList:{type:"object",properties:{work_name:{type:"string",title:"作品名称",required:!0},visit_link:{type:"string",title:"作品链接"},work_desc:{type:"string",title:"作品描述",widget:"TextArea"}}},skillList:{type:"object",properties:{skill_name:{type:"string",title:"技能名称",required:!0},skill_level:{type:"number",title:"掌握程度"},skill_desc:{type:"string",title:"技能描述",widget:"TextArea"}}}};var em=n(22834),ex=n(3073),eh=n(93700);let ej=function(e){let{value:t,onChange:n}=e,i=(0,f.useMemo)(()=>{if(!t)return[];let[e="",n=""]=t;return[j()(e),j()(n)].map(e=>e.isValid()?e:null)},[t]);return(0,l.jsx)(eh.Z.RangePicker,{className:" w-full",value:i,placeholder:["开始","结束"],onChange:(e,t)=>n(t),allowEmpty:[!1,!0],picker:"month"})},ef=function(e){let{schema:t,schemaKey:n,listIndex:i=0,onClose:r}=e,{data:s,confirmMessage:o}=C(),a=(0,em.cI)(),c=(0,f.useMemo)(()=>{let e=null==s?void 0:s[n];return(0,ex.Z)(e)},[n,s]);return(0,f.useEffect)(()=>{let e=null==s?void 0:s[n];a.resetFields(),s&&e&&a.setValues(c?e[i]||{}:e)},[n,i,c]),(0,l.jsx)(em.ZP,{form:a,schema:t,widgets:{CustomDateRange:ej},footer:!0,onFinish:function(e){if(!c){o(n,e),r();return}let t=s[n].slice();t[i]=e,o(n,t),r()}})};var ev=n(8782),ey=n(49143),eb=n(78434),eg=n(85899),ek=n.n(eg);function ew(e){let{id:t,children:n}=e,{attributes:i,listeners:r,setNodeRef:s,transform:o,transition:a}=(0,ey.nB)({id:t}),c={transform:eb.ux.Transform.toString(o),transition:a};return(0,l.jsx)("li",{ref:s,style:c,children:(0,l.jsx)("div",{...i,...r,children:n})})}let e_=function(e){let{parentKey:t,onConfig:n}=e,{data:i,confirmMessage:r}=C(),s=(0,ev.VT)(ev.we,{activationConstraint:{distance:10}}),o=(0,ev.Dy)(s),a=(0,f.useMemo)(()=>i?"educationList"===t?i[t].map(e=>({value:`${e.edu_time}-${e.school}-${e.major}-${e.academic_degree}`,id:e.school})):"awardList"===t?i[t].map(e=>({value:`${e.award_info}-${e.award_time}`,id:e.award_info})):"workExpList"===t?i[t].map(e=>({value:`${e.company_name}-${e.department_name}-${e.work_time}-${e.work_desc}`,id:e.company_name})):"projectList"===t?i[t].map(e=>({value:`${e.project_name}-${e.project_role}-${e.project_desc}-${e.project_time}-${e.project_desc}`,id:e.project_name})):"workList"===t?i[t].map(e=>({value:`${e.work_name}-${e.visit_link}`,id:e.work_name})):"skillList"===t?i[t].map(e=>({value:`${e.skill_name}-${e.skill_level}`,id:e.skill_name})):[]:[],[i,t]),c=(0,f.useCallback)(e=>{let{active:n,over:l}=e;if(!l||!n.data.current||!l.data.current||n.id===(null==l?void 0:l.id))return;let s=n.data.current.sortable.index,o=l.data.current.sortable.index,a=i[t];r(t,ek()(a,{$splice:[[s,1],[o,0,a[s]]]}))},[i,t,r]),d=(0,f.useCallback)(e=>{let n=i[t];r(t,ek()(n,{$splice:[[e,1]]}))},[i,t,r]);return(0,l.jsx)(ev.LB,{onDragEnd:c,sensors:o,children:(0,l.jsx)("div",{className:" space-y-2",children:(0,l.jsx)(ey.Fo,{items:a,children:(0,l.jsxs)("ul",{children:[(a||[]).map((e,t)=>(0,l.jsx)(ew,{value:e.value,id:e.id,children:(0,l.jsxs)("div",{className:"  group flex hover:bg-amber-600  py-2 px-3 rounded-xl transition-all items-center",children:[(0,l.jsx)("div",{onClick:()=>n(t),className:" flex-1  truncate ",children:e.value},e.id),(0,l.jsx)("i",{className:"icon-[icon-park-outline--delete] cursor-pointer  group-hover:block hidden",onClick:()=>d(t)})]})},e.id)),(0,l.jsx)(ea.ZP,{type:"dashed",onClick:()=>n(a.length),className:" mt-2",block:!0,children:"数据添加"})]})})})})},eN=Q(),eZ=function(){var e;let[t,n]=(0,f.useState)(null),[i,r]=(0,E.O)(),[s,o]=(0,f.useState)(null),[a,c]=(0,f.useState)(0),d=(0,f.useMemo)(()=>t?eN.find(e=>e.key===t):null,[t]);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(e),c(t),o(ep[e]),r(!0)}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eu.Z,{accordion:!0,items:null===(e=Q(u))||void 0===e?void 0:e.map(e=>({...e,children:(0,l.jsx)(e_,{onConfig:t=>u(e.key,t),parentKey:e.key},e.key)})),bordered:!1}),(0,l.jsx)(q.Z,{closable:!1,open:i,onClose:()=>r(!1),title:null==d?void 0:d.label,children:(0,l.jsx)(ef,{schema:s,schemaKey:t,listIndex:a,onClose:()=>r(!1)})})]})};var eC=n(51870);function eP(e){let{item:t,isActive:n,changeSearch:i}=e;return(0,l.jsxs)("div",{className:(0,U.Z)(" flex flex-col items-center hover:cursor-pointer"),onClick:()=>!t.disabled&&i({template:t.id}),children:[(0,l.jsx)(eC.Q,{src:t.url,className:(0,U.Z)("w-[160px]  shadow mb-2  box-border border-white/20  border-solid border",n?" !border-black/20":"")}),(0,l.jsx)("span",{className:" text-black/65 text-sm",children:t.id}),(0,l.jsx)("span",{className:"text-xs text-black",children:t.description})]},`${t.id}`)}let e$=function(){let{params:e,changeSearch:t}=G();return(0,l.jsx)("div",{className:" grid grid-cols-2 gap-6 my-6",children:H.map(n=>(0,l.jsx)(eP,{isActive:n.id===e.template,changeSearch:t,item:n},n.id))})},eT=function(){let[e,t]=(0,E.O)(),[n,i]=(0,f.useState)("template");return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(ea.ZP,{type:"primary",block:!0,onClick:()=>t(!0),children:["进行配置",(0,l.jsx)(q.Z,{open:e,closable:!1,width:600,title:(0,l.jsx)(ed.Z,{value:n,onChange:i,shape:"round",options:[{value:"template",label:"选择模板"},{value:"module",label:"配置简历"}]}),onClose:()=>t(!1),children:"module"===n?(0,l.jsx)(eZ,{}):(0,l.jsx)(e$,{})})]})})},eL=(0,f.createContext)(null);function eO(e){let{children:t}=e,{confirmMessage:n,data:i}=C(),r=(0,f.useCallback)(function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1!==l){let r=i[e];r[l]=t,n(e,r);return}n(e,t)},[n,i]),s=(0,f.useMemo)(()=>({changeAiText:r}),[r]);return(0,l.jsx)(eL.Provider,{value:s,children:t})}var eS=n(4865);let eA=function(){let{params:e}=G(),{user:t="visiky"}=e;return(0,l.jsx)(eS.Z,{type:"info",banner:!0,closable:!0,showIcon:!1,message:(0,l.jsxs)("span",{children:["编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存",(0,l.jsxs)("span",{children:[(0,l.jsxs)("span",{style:{marginRight:"4px"},children:["\uD83D\uDC49"," ",!t&&"参考："]}),(0,l.jsx)("span",{style:{color:"var(--primary-color, #1890ff)",cursor:"pointer"},onClick:()=>{window.open(`https://github.com/${t}/${t}`)},children:`${t}'s resumeInfo`}),(0,l.jsx)("span",{children:`（https://github.com/${t}/${t||"visiky"}/blob/master/resume.json）`})]})]})})};var eE=n(56949),eR=n(59115),eq=n(47486),ez=n(7664);let eM=function(e){let{text:t}=e,n=null==t?void 0:t.split("\n");return t?(0,l.jsx)("div",{className:" space-y-0.5 text-sm",children:n.map(e=>(0,l.jsx)("p",{children:e},e))}):null},eD=function(e){let{text:t,onReplace:n}=e,[i,r]=f.useState([]),s=i.map(e=>JSON.parse(e.data).output.text).join(""),[o,a]=(0,E.O)(),c=(0,f.useMemo)(()=>[{label:"ai润色",key:"renderAi"}],[]),d=async e=>{if("renderAi"===e.key&&(r([]),a(!0),t))for await(let e of(0,eE.Z)({readableStream:await w(t)}))r(t=>[...t,e])};return(0,l.jsx)(eq.Z,{open:o,icon:!1,title:"",description:(0,l.jsx)(eR.Z,{className:"max-w-[700px] whitespace-pre-wrap",variant:"outlined",content:s}),okText:"替换",onConfirm:function(){null==n||n(s),a(!1)},onCancel:()=>a(!1),cancelText:"否",children:(0,l.jsx)("span",{children:(0,l.jsx)(ez.Z,{menu:{items:c,onClick:d},trigger:["contextMenu"],children:(0,l.jsx)("span",{children:(0,l.jsx)(eM,{text:t})})})})})},eI=function(e){let{time:t,className:n}=e,{token:i}=S.Z.useToken(),[r,s]=t,o=(0,f.useMemo)(()=>(0,U.Z)(n," text-xs"),[n]);return t?(0,l.jsxs)("div",{style:{color:i.colorTextDescription},className:o,children:[r,s?` ~ ${s}`:"至今"]}):null},eF=function(e){let{edu_time:t,school:n,major:i,academic_degree:r}=e;return(0,l.jsxs)("div",{className:" flex items-center justify-between w-full",children:[(0,l.jsxs)(L,{className:" flex",small:!0,children:[(0,l.jsx)("b",{children:n}),i&&(0,l.jsx)("span",{children:i}),r&&(0,l.jsx)("span",{className:"sub-info",children:`(${r})`})]}),(0,l.jsx)(eI,{time:t})]})};var eB=n(3939);let eG=function(e){let{src:t,shape:n="circle",hidden:i}=e;return i?null:(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)(eB.Z,{className:" !w-full !h-full",shape:n,src:t}):(0,l.jsx)("span",{className:"avatar-upload-tip",children:"头像地址为空"})})};function eK(e){let{icon:t,value:n}=e,{token:i}=S.Z.useToken();return(0,l.jsxs)("div",{className:" text-sm whitespace-nowrap space-x-2 items-center flex",children:[(0,l.jsx)("i",{className:(0,U.Z)(t," text-sm"),style:{color:i.colorPrimary}}),(0,l.jsx)("span",{children:n})]})}let eJ=function(){var e,t;let{data:n}=C(),{size:i}=O(),r=(0,f.useMemo)(()=>{if(!(null==n?void 0:n.profile))return[];let e=n.profile;return X.map(t=>{let[n,l,i]=t;return{value:(null==e?void 0:e[n])?`${i||""}${null==e?void 0:e[n]}`:"",icon:l,id:n}}).filter(e=>e.value).slice(0,6)},[null==n?void 0:n.profile]);return(0,l.jsxs)("div",{className:" flex  justify-between items-center",children:[(0,l.jsxs)(L,{className:" flex-1",direction:"vertical",children:[(0,l.jsx)("div",{className:" text-2xl ",children:null==n?void 0:null===(e=n.profile)||void 0===e?void 0:e.name}),(0,l.jsx)("div",{className:" grid grid-cols-2",style:{gap:2*i},children:r.map(e=>(0,l.jsx)(eK,{...e},e.id))})]}),!(null==n?void 0:null===(t=n.avatar)||void 0===t?void 0:t.hidden)&&(0,l.jsx)("div",{className:" w-40",children:(0,l.jsx)("div",{className:" w-20 h-20 mx-auto flex-none",children:(0,l.jsx)(eG,{...null==n?void 0:n.avatar})})})]})},eV=function(e){let{project_name:t,project_time:n,project_desc:i,project_content:r,project_role:s,onChangeAiText:o}=e,{token:a}=S.Z.useToken();return(0,l.jsxs)(L,{direction:"vertical",className:" w-full",small:!0,children:[(0,l.jsxs)("div",{className:" flex justify-between items-center",children:[(0,l.jsxs)(L,{children:[(0,l.jsx)("span",{className:" text-sm font-bold",children:t}),(0,l.jsx)("div",{style:{color:a.colorTextDescription},className:" text-xs",children:n})]}),(0,l.jsx)("div",{className:" text-xs p-1 px-2 text-white rounded-full",style:{backgroundColor:a.colorPrimary},children:s})]}),(0,l.jsx)(eD,{text:i,onReplace:e=>null==o?void 0:o("project_desc",e)}),(0,l.jsx)(eD,{text:r,onReplace:e=>null==o?void 0:o("project_content",e)})]})};var eU=n(45961);let eW=function(e){let{skill_name:t,skill_desc:n,skill_level:i}=e;return(0,l.jsxs)(L,{className:" w-full justify-between",children:[(0,l.jsxs)(L,{small:!0,children:[(0,l.jsx)("span",{className:" text-base font-bold",children:t}),(0,l.jsx)("span",{className:" text-xs",children:n})]}),(0,l.jsx)(eU.Z,{disabled:!0,value:i})]})},eY=function(e){let{work_time:t,company_name:n,department_name:i,work_desc:r,onChangeAiText:s}=e,{token:o}=S.Z.useToken();return(0,l.jsxs)(L,{direction:"vertical",small:!0,className:" w-full",children:[(0,l.jsxs)("div",{className:" flex items-center justify-between",children:[(0,l.jsxs)(L,{children:[(0,l.jsx)("span",{className:" text-sm font-bold",children:n}),i&&(0,l.jsx)("span",{className:" text-xs",style:{color:o.colorTextDescription},children:i})]}),(0,l.jsx)(eI,{time:t})]}),(0,l.jsx)(eD,{text:r,onReplace:e=>null==s?void 0:s("work_desc",e)})]},n)},eH=function(e){let{work_name:t,work_desc:n,visit_link:i}=e;return(0,l.jsxs)(L,{direction:"vertical",small:!0,children:[(0,l.jsxs)(L,{children:[(0,l.jsx)("span",{className:" font-bold",children:t}),(0,l.jsx)("a",{href:i,children:"访问连接"})]}),(0,l.jsx)(eM,{text:n})]})},eQ=function(e){let{children:t,title:n,show:i=!0}=e,{token:r}=S.Z.useToken();return i?(0,l.jsxs)(L,{className:" w-full",direction:"vertical",children:[(0,l.jsxs)("div",{className:" flex items-center",children:[(0,l.jsx)("span",{className:" text-base font-bold ",style:{color:r.colorPrimary},children:n}),(0,l.jsx)("div",{className:(0,U.Z)("flex-1 items-center rounded-2xl opacity-45 ml-2"),style:{backgroundColor:r.colorPrimary,height:"1px"}})]}),(0,l.jsx)(L,{direction:"vertical",className:" w-full",children:t})]}):null},eX={template1:function(){var e,t,n,i,r,s,o,a,c,d,u;let{data:p}=C(),{changeAiText:m}=function(){let e=(0,f.useContext)(eL);if(!e)throw Error("useAiTemplate must be used within an DataContextProvider");return e}();return(0,l.jsxs)(L,{className:" px-6 py-4",direction:"vertical",children:[(0,l.jsx)(eJ,{}),(0,l.jsx)(eQ,{title:"教育背景",show:!!(null==p?void 0:null===(e=p.educationList)||void 0===e?void 0:e.length),children:null==p?void 0:null===(t=p.educationList)||void 0===t?void 0:t.map(e=>(0,l.jsx)(eF,{...e},e.school))}),(0,l.jsx)(eQ,{title:"个人作品",show:!!(null==p?void 0:null===(n=p.workList)||void 0===n?void 0:n.length),children:null==p?void 0:null===(i=p.workList)||void 0===i?void 0:i.map(e=>(0,f.createElement)(eH,{...e,key:e.work_name}))}),(0,l.jsx)(eQ,{title:"自我介绍",children:(0,l.jsx)(eD,{text:null==p?void 0:null===(r=p.aboutme)||void 0===r?void 0:r.aboutme_desc,onReplace:e=>m("aboutme",{aboutme_desc:e})})}),(0,l.jsx)(eQ,{title:"个人技能",show:!!(null==p?void 0:null===(s=p.skillList)||void 0===s?void 0:s.length),children:null==p?void 0:null===(o=p.skillList)||void 0===o?void 0:o.map(e=>(0,f.createElement)(eW,{...e,key:e.skill_name}))}),(0,l.jsx)(eQ,{title:"工作经历",show:!!(null==p?void 0:null===(a=p.workExpList)||void 0===a?void 0:a.length),children:null==p?void 0:null===(c=p.workExpList)||void 0===c?void 0:c.map((e,t)=>(0,l.jsx)(eY,{...e,onChangeAiText:(n,l)=>m("workExpList",{...e,[n]:l},t)},e.company_name))}),(0,l.jsx)(eQ,{title:"项目经验",show:!!(null==p?void 0:null===(d=p.projectList)||void 0===d?void 0:d.length),children:null==p?void 0:null===(u=p.projectList)||void 0===u?void 0:u.map((e,t)=>(0,l.jsx)(eV,{...e,onChangeAiText:(n,l)=>m("projectList",{...e,[n]:l},t)},e.project_name))})]})},template2:function(){return(0,l.jsx)("div",{children:"Template2"})},template3:function(){return(0,l.jsx)("div",{children:"Template3"})}},e0=(0,ei.f2)("/")({component:function(){let{changeSearch:e,params:t}=G(),{i18n:n}=(0,v.$G)(),{isLoading:i,copyConfig:r}=C(),{isEdit:s}=K(),o=(0,f.useRef)(null),a=(0,ec.useReactToPrint)({contentRef:o}),c=(0,f.useMemo)(()=>eX[t.template],[t.template]);return(0,f.useEffect)(()=>{e({lang:n.language})},[e,n.language]),(0,l.jsx)("div",{className:" btn",children:(0,l.jsxs)(es.Z,{spinning:i,children:[s&&(0,l.jsx)(eA,{}),(0,l.jsxs)("div",{className:"  mx-auto p-3 mb-10 flex w-full justify-center",children:[(0,l.jsx)("div",{ref:o,className:"min-h-[942px] w-[794px] mr-2 shadow-2xl print:shadow-[none]",children:(0,l.jsx)(eO,{children:(0,l.jsx)(c,{})})}),s&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(eo.Z,{offsetTop:0,children:(0,l.jsxs)("div",{className:" space-y-2 w-[106px]",children:[(0,l.jsx)(eT,{}),(0,l.jsx)(ea.ZP,{type:"primary",block:!0,onClick:()=>r(),children:"复制配置"}),(0,l.jsx)(ea.ZP,{type:"primary",block:!0,children:"保存简历"}),(0,l.jsx)(ea.ZP,{block:!0,children:"导入配置"}),(0,l.jsx)(ea.ZP,{type:"primary",block:!0,onClick:()=>a(),children:"下载PDF"}),(0,l.jsx)(ea.ZP,{type:"primary",block:!0,children:"分享"})]})})})]})]})})},validateSearch:W.ZP.object({user:W.ZP.string().optional(),template:W.ZP.string().default("template1"),lang:W.ZP.string().default("zh"),mode:W.ZP.enum(["edit","read"]).default("read")})}),e1=er.update({id:"/$page",path:"/$page",getParentRoute:()=>el}),e2=e0.update({id:"/",path:"/",getParentRoute:()=>el}),e4=el._addFileChildren({IndexRoute:e2,PageRoute:e1})._addFileTypes();var e6=n(8720),e3=n(50320),e8=n(92168),e7=n(34183);(0,e3.U)()((0,e8.tJ)((0,e7.n)(e=>({userToken:void 0,setToken:t=>e(e=>{e.userToken=t}),removeToken:()=>{e(e=>{e.userToken=void 0})}})),{name:"cache"}));let e5=new e6.S({defaultOptions:{queries:{staleTime:0}}}),e9=(0,o.p7)({basepath:"/resume-visiky",routeTree:e4,context:{queryClient:e5}});function te(){return(0,l.jsx)(a.p,{router:e9,context:{queryClient:e5}})}var tt=n(23811);tt.ZP.use(v.Db).init({resources:{en:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"Welcome to React and react-i18next"}},zh:{translation:{"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存":"编辑模式下, 切换国际化会导致正在配置的内容丢失，请及时保存","Welcome to React":"欢迎 React and react-i18next"}}},fallbackLng:"en",debug:!1}),"undefined"!=typeof window&&(0,s.Rp)({enabled:!1,log:!1}),!function(){let e=document.getElementById("root");e&&r.createRoot(e).render((0,l.jsx)(i.aH,{client:e5,children:(0,l.jsx)(te,{})}))}()}},t={};function n(l){var i=t[l];if(void 0!==i)return i.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(l,i){if(1&i&&(l=this(l)),8&i||"object"==typeof l&&l&&(4&i&&l.__esModule||16&i&&"function"==typeof l.then))return l;var r=Object.create(null);n.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&l;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(function(e){s[e]=function(){return l[e]}});return s.default=function(){return l},n.d(r,s),r}})(),n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];n.O=function(t,l,i,r){if(l){r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[l,i,r];return}for(var o=1/0,s=0;s<e.length;s++){for(var l=e[s][0],i=e[s][1],r=e[s][2],a=!0,c=0;c<l.length;c++)(!1&r||o>=r)&&Object.keys(n.O).every(function(e){return n.O[e](l[c])})?l.splice(c--,1):(a=!1,r<o&&(o=r));if(a){e.splice(s--,1);var d=i();void 0!==d&&(t=d)}}return t}})(),n.rv=function(){return"1.2.5"},(()=>{var e={980:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var i,r,s=l[0],o=l[1],a=l[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(a)var d=a(n)}for(t&&t(l);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},l=self.webpackChunkrsbuild_react_tempalte=self.webpackChunkrsbuild_react_tempalte||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})(),n.ruid="bundler=rspack@1.2.5";var l=n.O(void 0,["361","324"],function(){return n(85943)});l=n.O(l)})();